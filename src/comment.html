<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Landing Page - Start Bootstrap Theme</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Custom fonts for this template -->
    <link
      href="vendor/font-awesome/css/font-awesome.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="vendor/simple-line-icons/css/simple-line-icons.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic"
      rel="stylesheet"
      type="text/css"
    />

    <!-- Custom styles for this template -->
    <link href="css/starter-template.css" rel="stylesheet" />
  </head>

  <body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="#">オレ的野球解説（仮）</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarsExampleDefault"
        aria-controls="navbarsExampleDefault"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="./service.html"
              >観戦する<span class="sr-only">(current)</span></a
            >
          </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
          <input
            id="signin-user"
            class="form-control mr-sm-2"
            type="text"
            readonly
          />
          <button
            id="sign-out"
            class="btn btn-primary my-2 my-sm-0"
            type="button"
          >
            Sign out
          </button>
        </form>
      </div>
    </nav>

    <main role="main" class="container" id="comment">
      <div id="message"></div>
      <div class="container">
        <form>
          <div class="form-group">
            <label for="">イニング</label>
            <input
              type="inning"
              class="form-control"
              id="input-inning"
              placeholder="1"
            />
            <label for="">背番号</label>
            <select class="form-control form-control-sm" id="select-profile-number">
            </select>
            <label for="">コメント</label>
            <input
              type="comment"
              class="form-control"
              id="input-comment"
              placeholder="次は決め球の外のスライダーかな"
            />
            <label for="">盛り上がり度</label>
            <select class="form-control form-control-sm" id="select-point">
              <option>0</option>
              <option>1</option>
              <option>2</option>
              <option>3</option>
              <option>4</option>
              <option>5</option>
            </select>
          </div>
          <button type="button" class="btn btn-primary" id="comment-send">
            送信
          </button>
        </form>
      </div>
    </main>
    <!-- /.container -->

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script>
    function apiCall(url, method) {
      function renderResult(data) {
        console.log(data);
        let items = "<option></option>";
        Object.values(data).forEach(value => {
          items += "<option>" + value + "</options>";
        })
        document.querySelector('#select-profile-number').innerHTML = items;
      }

      $.ajax({
        url: url,
        type: method,
        data: {}
      })
              .done((data) => {
                $('#message').html(data);
                renderResult(data);
              })
              .fail((data) => {
                $('#message').html(data);
                renderResult(data);
              })
              .always((data) => {
              });
    }
    
    apiCall('https://starting-api.herokuapp.com/', 'GET')
    </script>
    <style>
      /** CSS：Area */
    </style>

    </div>
  </body>
</html>
